{"version":3,"file":"royce-ui.min.js","sources":["../src/index.js","../src/packages/resize-box/ResizeBox.vue"],"sourcesContent":["\"use strict\";\n\nimport ResizeBox from \"./packages/resize-box\";\n\nconst components = {\n  ResizeBox,\n};\n\nconst install = (Vue, /* options = {} */) => {\n  Object.keys(components).forEach((key) => {\n    Vue.component(key, components[key]);\n  });\n};\n\nexport default install;","<template>\n  <div class=\"royce-resize-box\">\n    <div v-if=\"move.t\" class=\"line line-t\" data-type=\"t\" @mousedown.prevent=\"onMousedown\" />\n    <div v-if=\"move.l\" class=\"line line-l\" data-type=\"l\" @mousedown.prevent=\"onMousedown\" />\n    <div v-if=\"move.r\" class=\"line line-r\" data-type=\"r\" @mousedown.prevent=\"onMousedown\" />\n    <div v-if=\"move.b\" class=\"line line-b\" data-type=\"b\" @mousedown.prevent=\"onMousedown\" />\n    <div v-if=\"move.tl\" class=\"angle angle-tl\" data-type=\"tl\" @mousedown.prevent=\"onMousedown\" />\n    <div v-if=\"move.tr\" class=\"angle angle-tr\" data-type=\"tr\" @mousedown.prevent=\"onMousedown\" />\n    <div v-if=\"move.bl\" class=\"angle angle-bl\" data-type=\"bl\" @mousedown.prevent=\"onMousedown\" />\n    <div v-if=\"move.br\" class=\"angle angle-br\" data-type=\"br\" @mousedown.prevent=\"onMousedown\" />\n    <slot />\n  </div>  \n</template>\n\n<script>\n\"use strict\";\n\nexport default {\n  name: \"resize-box\",\n\n  props: {\n    max: {\n      type: Object,\n      default: () => ({ width: 0, height: 0 }),\n    },\n    min: {\n      type: Object,\n      default: () => ({ width: 0, height: 0 }),\n    },\n    move: {\n      type: Object,\n      default: () => ({ t: true, l: true, r: true, b: true, tl: true, tr: true, bl: true, br: true }),\n    },\n    speed: {\n      type: Number,\n      default: 1,\n    },\n  },\n\n  mounted() {\n    document.body.addEventListener(\"mouseup\", this.onMouseup);\n  },\n\n  destroyed() {\n    document.body.removeEventListener(\"mouseup\", this.onMouseup);\n  },\n\n  methods: {\n    getStyle(element) {\n      return element.currentStyle\n        ? element.currentStyle\n        : getComputedStyle(element, false);\n    },\n\n    onMouseup(event) {\n      document.body.style.cursor = \"default\";\n      document.body.removeEventListener(\"mousemove\", this.onMousemove);\n    },\n\n    onMousedown(event) {\n      this.dataType = event.target.getAttribute(\"data-type\");\n      this.event = event;\n\n      const { cursor } = this.getStyle(event.target);\n      document.body.style.cursor = cursor;\n      document.body.addEventListener(\"mousemove\", this.onMousemove);\n    },\n\n    onMousemove(event) {\n      const { width, height } = this.getStyle(this.$el);\n      this[this.dataType]({ event, width: parseInt(width), height: parseInt(height) });\n      this.event = event;\n    },\n\n    tl({ event, width, height }) {\n      this.t({ event, height });\n      this.l({ event, width });\n    },\n\n    tr({ event, width, height }) {\n      this.t({ event, height });\n      this.r({ event, width });\n    },\n\n    bl({ event, width, height }) {\n      this.b({ event, height });\n      this.l({ event, width });\n    },\n\n    br({ event, width, height }) {\n      this.b({ event, height });\n      this.r({ event, width });\n    },\n\n    t({ event, height }) {\n      if (event.y > this.event.y) {\n        this.$el.style.height = this.min.height\n          ? `${Math.max(this.min.height, height - (event.y - this.event.y) * this.speed)}px`\n          : `${height - (event.y - this.event.y) * this.speed}px`;\n      } else {\n        this.$el.style.height = this.max.height\n          ? `${Math.min(this.max.height, height + (this.event.y - event.y) * this.speed)}px`\n          : `${height + (this.event.y - event.y) * this.speed}px`;\n      }\n    },\n\n    l({ event, width }) {\n      if (event.x > this.event.x) {\n        this.$el.style.width = this.min.width\n          ? `${Math.max(this.min.width, width - (event.x - this.event.x) * this.speed)}px`\n          : `${width - (event.x - this.event.x) * this.speed}px`;\n      } else {\n        this.$el.style.width = this.max.width\n          ? `${Math.min(this.max.width, width + (this.event.x - event.x) * this.speed)}px`\n          : `${width + (this.event.x - event.x) * this.speed}px`;\n      }\n    },\n\n    r({ event, width }) {\n      if (event.x > this.event.x) {\n        this.$el.style.width = this.max.width\n          ? `${Math.min(this.max.width, width + (event.x - this.event.x) * this.speed)}px`\n          : `${width + (event.x - this.event.x) * this.speed}px`;\n      } else {\n        this.$el.style.width = this.min.width\n          ? `${Math.max(this.min.width, width - (this.event.x - event.x) * this.speed)}px`\n          : `${width - (this.event.x - event.x) * this.speed}px`;\n      }\n    },\n\n    b({ event, height }) {\n      if (event.y > this.event.y) {\n        this.$el.style.height = this.max.height\n          ? `${Math.min(this.max.height, height + (event.y - this.event.y) * this.speed)}px`\n          : `${height + (event.y - this.event.y) * this.speed}px`;\n      } else {\n        this.$el.style.height = this.min.height\n          ? `${Math.max(this.min.height, height - (this.event.y - event.y) * this.speed)}px`\n          : `${height - (this.event.y - event.y) * this.speed}px`;\n      }\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\">\n@import \"../../styles/var.scss\";\n@import \"../../styles/mixin.scss\";\n\n@include b(resize-box) {\n  position: relative;\n  width: 100%;\n  height: 100%;\n  box-sizing: border-box;\n\n  .line,\n  .angle {\n    position: absolute;\n    z-index: 999;\n    margin: auto;\n  }\n\n  .line:hover,\n  .angle:hover {\n    background: #1aa7cb;\n  }\n\n  .line-t {\n    top: -3px;\n    left: 0;\n    right: 0;\n    width: 100%;\n    height: 3px;\n    background: #edf0f7;\n    cursor: row-resize;\n  }\n\n  .line-l {\n    top: 0;\n    left: -3px;\n    bottom: 0;\n    width: 3px;\n    height: 100%;\n    background: #edf0f7;\n    cursor: col-resize;\n  }\n\n  .line-r {\n    top: 0;\n    right: -3px;\n    bottom: 0;\n    width: 3px;\n    height: 100%;\n    background: #edf0f7;\n    cursor: col-resize;\n  }\n\n  .line-b {\n    left: 0;\n    right: 0;\n    bottom: -3px;\n    width: 100%;\n    height: 3px;\n    background: #edf0f7;\n    cursor: row-resize;\n  }\n\n  .angle {\n    width: 3px;\n    height: 3px;\n  }\n\n  .angle-tl {\n    top: -3px;\n    left: -3px;\n    background: #edf0f7;\n    cursor: nwse-resize;\n  }\n\n  .angle-tr {\n    top: -3px;\n    right: -3px;\n    background: #edf0f7;\n    cursor: nesw-resize;\n  }\n\n  .angle-bl {\n    bottom: -3px;\n    left: -3px;\n    background: #edf0f7;\n    cursor: nesw-resize;\n  }\n\n  .angle-br {\n    bottom: -3px;\n    right: -3px;\n    background: #edf0f7;\n    cursor: nwse-resize;\n  }\n}\n</style>"],"names":["components","ResizeBox","name","props","max","type","Object","default","width","height","min","move","t","l","r","b","tl","tr","bl","br","speed","Number","mounted","document","body","addEventListener","this","onMouseup","destroyed","removeEventListener","methods","getStyle","element","currentStyle","getComputedStyle","event","style","cursor","onMousemove","onMousedown","dataType","target","getAttribute","$el","parseInt","y","Math","x","Vue","keys","forEach","key","component"],"mappings":"qMAIMA,EAAa,CACjBC,UCYa,85CACbC,KAAM,aAENC,MAAO,CACLC,IAAK,CACHC,KAAMC,OACNC,QAAS,iBAAO,CAAEC,MAAO,EAAGC,OAAQ,KAEtCC,IAAK,CACHL,KAAMC,OACNC,QAAS,iBAAO,CAAEC,MAAO,EAAGC,OAAQ,KAEtCE,KAAM,CACJN,KAAMC,OACNC,QAAS,iBAAO,CAAEK,GAAG,EAAMC,GAAG,EAAMC,GAAG,EAAMC,GAAG,EAAMC,IAAI,EAAMC,IAAI,EAAMC,IAAI,EAAMC,IAAI,KAE1FC,MAAO,CACLf,KAAMgB,OACNd,QAAS,IAIbe,mBACEC,SAASC,KAAKC,iBAAiB,UAAWC,KAAKC,YAGjDC,qBACEL,SAASC,KAAKK,oBAAoB,UAAWH,KAAKC,YAGpDG,QAAS,CACPC,kBAASC,UACAA,EAAQC,aACXD,EAAQC,aACRC,iBAAiBF,GAAS,IAGhCL,mBAAUQ,GACRZ,SAASC,KAAKY,MAAMC,OAAS,UAC7Bd,SAASC,KAAKK,oBAAoB,YAAaH,KAAKY,cAGtDC,qBAAYJ,QACLK,SAAWL,EAAMM,OAAOC,aAAa,kBACrCP,MAAQA,MAELE,EAAWX,KAAKK,SAASI,EAAMM,QAA/BJ,OACRd,SAASC,KAAKY,MAAMC,OAASA,EAC7Bd,SAASC,KAAKC,iBAAiB,YAAaC,KAAKY,cAGnDA,qBAAYH,SACgBT,KAAKK,SAASL,KAAKiB,KAArCnC,IAAAA,MAAOC,IAAAA,YACViB,KAAKc,UAAU,CAAEL,MAAAA,EAAO3B,MAAOoC,SAASpC,GAAQC,OAAQmC,SAASnC,UACjE0B,MAAQA,GAGfnB,mBAAKmB,IAAAA,MAAO3B,IAAAA,MAAOC,IAAAA,YACZG,EAAE,CAAEuB,MAAAA,EAAO1B,OAAAA,SACXI,EAAE,CAAEsB,MAAAA,EAAO3B,MAAAA,KAGlBS,mBAAKkB,IAAAA,MAAO3B,IAAAA,MAAOC,IAAAA,YACZG,EAAE,CAAEuB,MAAAA,EAAO1B,OAAAA,SACXK,EAAE,CAAEqB,MAAAA,EAAO3B,MAAAA,KAGlBU,mBAAKiB,IAAAA,MAAO3B,IAAAA,MAAOC,IAAAA,YACZM,EAAE,CAAEoB,MAAAA,EAAO1B,OAAAA,SACXI,EAAE,CAAEsB,MAAAA,EAAO3B,MAAAA,KAGlBW,mBAAKgB,IAAAA,MAAO3B,IAAAA,MAAOC,IAAAA,YACZM,EAAE,CAAEoB,MAAAA,EAAO1B,OAAAA,SACXK,EAAE,CAAEqB,MAAAA,EAAO3B,MAAAA,KAGlBI,kBAAIuB,IAAAA,MAAO1B,IAAAA,OACL0B,EAAMU,EAAInB,KAAKS,MAAMU,OAClBF,IAAIP,MAAM3B,OAASiB,KAAKhB,IAAID,iBAC1BqC,KAAK1C,IAAIsB,KAAKhB,IAAID,OAAQA,GAAU0B,EAAMU,EAAInB,KAAKS,MAAMU,GAAKnB,KAAKN,uBACnEX,GAAU0B,EAAMU,EAAInB,KAAKS,MAAMU,GAAKnB,KAAKN,iBAE3CuB,IAAIP,MAAM3B,OAASiB,KAAKtB,IAAIK,iBAC1BqC,KAAKpC,IAAIgB,KAAKtB,IAAIK,OAAQA,GAAUiB,KAAKS,MAAMU,EAAIV,EAAMU,GAAKnB,KAAKN,uBACnEX,GAAUiB,KAAKS,MAAMU,EAAIV,EAAMU,GAAKnB,KAAKN,aAIpDP,kBAAIsB,IAAAA,MAAO3B,IAAAA,MACL2B,EAAMY,EAAIrB,KAAKS,MAAMY,OAClBJ,IAAIP,MAAM5B,MAAQkB,KAAKhB,IAAIF,gBACzBsC,KAAK1C,IAAIsB,KAAKhB,IAAIF,MAAOA,GAAS2B,EAAMY,EAAIrB,KAAKS,MAAMY,GAAKrB,KAAKN,uBACjEZ,GAAS2B,EAAMY,EAAIrB,KAAKS,MAAMY,GAAKrB,KAAKN,iBAE1CuB,IAAIP,MAAM5B,MAAQkB,KAAKtB,IAAII,gBACzBsC,KAAKpC,IAAIgB,KAAKtB,IAAII,MAAOA,GAASkB,KAAKS,MAAMY,EAAIZ,EAAMY,GAAKrB,KAAKN,uBACjEZ,GAASkB,KAAKS,MAAMY,EAAIZ,EAAMY,GAAKrB,KAAKN,aAInDN,kBAAIqB,IAAAA,MAAO3B,IAAAA,MACL2B,EAAMY,EAAIrB,KAAKS,MAAMY,OAClBJ,IAAIP,MAAM5B,MAAQkB,KAAKtB,IAAII,gBACzBsC,KAAKpC,IAAIgB,KAAKtB,IAAII,MAAOA,GAAS2B,EAAMY,EAAIrB,KAAKS,MAAMY,GAAKrB,KAAKN,uBACjEZ,GAAS2B,EAAMY,EAAIrB,KAAKS,MAAMY,GAAKrB,KAAKN,iBAE1CuB,IAAIP,MAAM5B,MAAQkB,KAAKhB,IAAIF,gBACzBsC,KAAK1C,IAAIsB,KAAKhB,IAAIF,MAAOA,GAASkB,KAAKS,MAAMY,EAAIZ,EAAMY,GAAKrB,KAAKN,uBACjEZ,GAASkB,KAAKS,MAAMY,EAAIZ,EAAMY,GAAKrB,KAAKN,aAInDL,kBAAIoB,IAAAA,MAAO1B,IAAAA,OACL0B,EAAMU,EAAInB,KAAKS,MAAMU,OAClBF,IAAIP,MAAM3B,OAASiB,KAAKtB,IAAIK,iBAC1BqC,KAAKpC,IAAIgB,KAAKtB,IAAIK,OAAQA,GAAU0B,EAAMU,EAAInB,KAAKS,MAAMU,GAAKnB,KAAKN,uBACnEX,GAAU0B,EAAMU,EAAInB,KAAKS,MAAMU,GAAKnB,KAAKN,iBAE3CuB,IAAIP,MAAM3B,OAASiB,KAAKhB,IAAID,iBAC1BqC,KAAK1C,IAAIsB,KAAKhB,IAAID,OAAQA,GAAUiB,KAAKS,MAAMU,EAAIV,EAAMU,GAAKnB,KAAKN,uBACnEX,GAAUiB,KAAKS,MAAMU,EAAIV,EAAMU,GAAKnB,KAAKN,uBDlIxC,SAAC4B,GACf1C,OAAO2C,KAAKjD,GAAYkD,QAAQ,SAACC,GAC/BH,EAAII,UAAUD,EAAKnD,EAAWmD"}