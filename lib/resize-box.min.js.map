{"version":3,"file":"resize-box.min.js","sources":["../src/packages/resize-box/ResizeBox.vue"],"sourcesContent":["<template>\n  <div class=\"resize-box\">\n    <div v-if=\"move.t\" class=\"line line-t\" data-type=\"t\" @mousedown.prevent=\"onMousedown\" />\n    <div v-if=\"move.l\" class=\"line line-l\" data-type=\"l\" @mousedown.prevent=\"onMousedown\" />\n    <div v-if=\"move.r\" class=\"line line-r\" data-type=\"r\" @mousedown.prevent=\"onMousedown\" />\n    <div v-if=\"move.b\" class=\"line line-b\" data-type=\"b\" @mousedown.prevent=\"onMousedown\" />\n    <div v-if=\"move.tl\" class=\"angle angle-tl\" data-type=\"tl\" @mousedown.prevent=\"onMousedown\" />\n    <div v-if=\"move.tr\" class=\"angle angle-tr\" data-type=\"tr\" @mousedown.prevent=\"onMousedown\" />\n    <div v-if=\"move.bl\" class=\"angle angle-bl\" data-type=\"bl\" @mousedown.prevent=\"onMousedown\" />\n    <div v-if=\"move.br\" class=\"angle angle-br\" data-type=\"br\" @mousedown.prevent=\"onMousedown\" />\n    <slot />\n  </div>  \n</template>\n\n<script>\n\"use strict\";\n\nexport default {\n  name: \"resize-box\",\n\n  props: {\n    max: {\n      type: Object,\n      default: () => ({ width: 0, height: 0 }),\n    },\n    min: {\n      type: Object,\n      default: () => ({ width: 0, height: 0 }),\n    },\n    move: {\n      type: Object,\n      default: () => ({ t: true, l: true, r: true, b: true, tl: true, tr: true, bl: true, br: true }),\n    },\n    speed: {\n      type: Number,\n      default: 1,\n    },\n  },\n\n  created() {\n    document.body.addEventListener(\"mouseup\", this.onMouseup);\n  },\n\n  destroyed() {\n    document.body.removeEventListener(\"mouseup\", this.onMouseup);\n  },\n\n  methods: {\n    getStyle(element) {\n      return element.currentStyle\n        ? element.currentStyle\n        : getComputedStyle(element, false);\n    },\n\n    onMouseup(event) {\n      document.body.style.cursor = \"default\";\n      document.body.removeEventListener(\"mousemove\", this.onMousemove);\n    },\n\n    onMousedown(event) {\n      this.dataType = event.target.getAttribute(\"data-type\");\n      this.event = event;\n\n      const { cursor } = this.getStyle(event.target);\n      document.body.style.cursor = cursor;\n      document.body.addEventListener(\"mousemove\", this.onMousemove);\n    },\n\n    onMousemove(event) {\n      const { width, height } = this.getStyle(this.$el);\n      this[this.dataType]({ event, width: parseInt(width), height: parseInt(height) });\n      this.event = event;\n    },\n\n    tl({ event, width, height }) {\n      this.t({ event, height });\n      this.l({ event, width });\n    },\n\n    tr({ event, width, height }) {\n      this.t({ event, height });\n      this.r({ event, width });\n    },\n\n    bl({ event, width, height }) {\n      this.b({ event, height });\n      this.l({ event, width });\n    },\n\n    br({ event, width, height }) {\n      this.b({ event, height });\n      this.r({ event, width });\n    },\n\n    t({ event, height }) {\n      if (event.y > this.event.y) {\n        this.$el.style.height = this.min.height\n          ? `${Math.max(this.min.height, height - (event.y - this.event.y) * this.speed)}px`\n          : `${height - (event.y - this.event.y) * this.speed}px`;\n      } else {\n        this.$el.style.height = this.max.height\n          ? `${Math.min(this.max.height, height + (this.event.y - event.y) * this.speed)}px`\n          : `${height + (this.event.y - event.y) * this.speed}px`;\n      }\n    },\n\n    l({ event, width }) {\n      if (event.x > this.event.x) {\n        this.$el.style.width = this.min.width\n          ? `${Math.max(this.min.width, width - (event.x - this.event.x) * this.speed)}px`\n          : `${width - (event.x - this.event.x) * this.speed}px`;\n      } else {\n        this.$el.style.width = this.max.width\n          ? `${Math.min(this.max.width, width + (this.event.x - event.x) * this.speed)}px`\n          : `${width + (this.event.x - event.x) * this.speed}px`;\n      }\n    },\n\n    r({ event, width }) {\n      if (event.x > this.event.x) {\n        this.$el.style.width = this.max.width\n          ? `${Math.min(this.max.width, width + (event.x - this.event.x) * this.speed)}px`\n          : `${width + (event.x - this.event.x) * this.speed}px`;\n      } else {\n        this.$el.style.width = this.min.width\n          ? `${Math.max(this.min.width, width - (this.event.x - event.x) * this.speed)}px`\n          : `${width - (this.event.x - event.x) * this.speed}px`;\n      }\n    },\n\n    b({ event, height }) {\n      if (event.y > this.event.y) {\n        this.$el.style.height = this.max.height\n          ? `${Math.min(this.max.height, height + (event.y - this.event.y) * this.speed)}px`\n          : `${height + (event.y - this.event.y) * this.speed}px`;\n      } else {\n        this.$el.style.height = this.min.height\n          ? `${Math.max(this.min.height, height - (this.event.y - event.y) * this.speed)}px`\n          : `${height - (this.event.y - event.y) * this.speed}px`;\n      }\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\">\n.resize-box {\n  position: relative;\n  width: 100%;\n  height: 100%;\n  box-sizing: border-box;\n}\n\n.line,\n.angle {\n  position: absolute;\n  z-index: 999;\n  margin: auto;\n}\n\n.line:hover,\n.angle:hover {\n  background: #1aa7cb;\n}\n\n.line-t {\n  top: -3px;\n  left: 0;\n  right: 0;\n  width: 100%;\n  height: 3px;\n  background: #edf0f7;\n  cursor: row-resize;\n}\n\n.line-l {\n  top: 0;\n  left: -3px;\n  bottom: 0;\n  width: 3px;\n  height: 100%;\n  background: #edf0f7;\n  cursor: col-resize;\n}\n\n.line-r {\n  top: 0;\n  right: -3px;\n  bottom: 0;\n  width: 3px;\n  height: 100%;\n  background: #edf0f7;\n  cursor: col-resize;\n}\n\n.line-b {\n  left: 0;\n  right: 0;\n  bottom: -3px;\n  width: 100%;\n  height: 3px;\n  background: #edf0f7;\n  cursor: row-resize;\n}\n\n.angle {\n  width: 3px;\n  height: 3px;\n}\n\n.angle-tl {\n  top: -3px;\n  left: -3px;\n  background: #edf0f7;\n  cursor: nwse-resize;\n}\n\n.angle-tr {\n  top: -3px;\n  right: -3px;\n  background: #edf0f7;\n  cursor: nesw-resize;\n}\n\n.angle-bl {\n  bottom: -3px;\n  left: -3px;\n  background: #edf0f7;\n  cursor: nesw-resize;\n}\n\n.angle-br {\n  bottom: -3px;\n  right: -3px;\n  background: #edf0f7;\n  cursor: nwse-resize;\n}\n</style>"],"names":["name","props","max","type","Object","default","width","height","min","move","t","l","r","b","tl","tr","bl","br","speed","Number","created","document","body","addEventListener","onMouseup","destroyed","removeEventListener","methods","getStyle","element","currentStyle","getComputedStyle","event","style","cursor","onMousemove","onMousedown","dataType","target","getAttribute","$el","parseInt","y","Math","x"],"mappings":"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"}